{% extends 'base.html.twig' %}

{% block title %}
	{{ recipe.title }}
{% endblock %}

{% block body %}
	<section
		class="recipe-page">
		{# <!-- title --> #}
		<h2 class="recipe-title">{{ recipe.title }}</h2>

		<div
			class="recipe-content">
			{# <!-- description --> #}
			<p class="p-description">{{ recipe.description }}</p>

			<div class="recipe-sub-content">

				{# <!-- img --> #}
				{% if recipe.image %}
					<div class="recipe-img">
						<img
						src="/uploads/{{ recipe.image }}" alt="{{ recipe.title }}">
					{# <img src="{{ asset('uploads/' ~ recipe.id ~ '.jpg') }}" alt="{{ recipe.title }}"> #}
					</div>
				{% endif %}
					<div>
						<div class="recipe-cuisine-budget">
							{# <!-- cuisine --> #}
							<p>
								<i class='bx bx-globe'></i>:
								{{ recipe.cuisine }}</p>
							{# <!-- level --> #}
							<p>
								<i class='bx bxs-bowl-rice'></i>:
								{{ recipe.level }}</p>
							{# <!-- budget --> #}
							<p>
								<i class='bx bx-euro'></i>:
								{{ recipe.budget }}</p>
						</div>

					{# <!-- ingredients --> #}
					<div>
						{% set ingredientsArray = recipe.ingredients|split(';') %}
						<p class="p-sub-title ingredients-title">Ingredients:</p>
						<ul class="ul-recipe text-ingredients">
							{% for ingredient in ingredientsArray %}
								<li>{{ ingredient|trim }}</li>
							{% endfor %}
						</ul>
					</div>
				</div>

			</div>

			{# <!-- instructions --> #}
			<div>
				{% set instructionsArray = recipe.instructions|split(';') %}
				<p class="p-sub-title">Instructions:</p>
				<ul class="ul-recipe text-instructions">
					{% for index, instruction in instructionsArray %}
						<li>
							<strong>{{ (index + 1) }}.</strong>
							{{ instruction|trim }}.</li>
					{% endfor %}
				</ul>
			</div>
		</div>

		{# <!-- created_at --> #}
		<p class="recipe-created-by">Created
			{{ recipe.createdAt ? recipe.createdAt|date('Y-m-d H:i:s') : '' }}
			by
			{# {% if user %}
												<strong>{{ user.username }}</strong>
											{% endif %} #}
		</p>

		{# <!-- btn Go Back --> #}
		<div class="div-btnGoBack">
			<button type="button" class="btnGoBack">
				<a href="{{ path('app_recipes_index') }}">Back to recipes</a>
				<svg stroke-width="4" stroke="currentColor" viewbox="0 0 24 24" fill="none" class="h-6 w-6" xmlns="http://www.w3.org/2000/svg">
					<path d="M14 5l7 7m0 0l-7 7m7-7H3" stroke-linejoin="round" stroke-linecap="round"></path>
				</svg>
			</button>
		</div>

		<a href="{{ path('app_recipes_edit', {'id': recipe.id}) }}">edit</a>

		{{ include('recipes/_delete_form.html.twig') }}
	</section>
{% endblock %}
